// ========= CONTROLREPO RULES =========

// Documento principal del usuario en ControlRepo
match /apps/controlrepo/users/{userId} {

  // El usuario autenticado solo puede acceder a su propio documento
  allow read, write: if isAuth() && uid() == userId;

  // Subcolecciones del usuario (preferences, githubIntegration, futuras)
  match /{subPath=**} {
    allow read, write: if isAuth() && uid() == userId;
  }
}
